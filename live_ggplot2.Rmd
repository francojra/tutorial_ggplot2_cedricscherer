---
title: "Gráficos em R com ggplot2"
subtitle: ""
author: "Ministrante: Jeanne Franco"
institute: ""
date: ""
output:
  xaringan::moon_reader:
    css: xaringan-themer.css
    lib_dir: libs
    nature:
        highlightStyle: solarized-dark
        highlightLines: false
        countIncrementalSlides: false
---

```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
style_mono_accent_inverse(base_color = "#3C989E",
  header_font_google = google_font("Josefin Slab", "600"),
  text_font_google   = google_font("Work Sans", "300", "300i"),
  code_font_google   = google_font("IBM Plex Mono")
)
```


```{r xaringan-scribble, echo=FALSE}
xaringanExtra::use_scribble()
```
```{r xaringan-editable, echo=FALSE}
xaringanExtra::use_editable(expires = 1)
```


class: inverse, middle, center
background-color: #061b1d

# Um pouco sobre mim

---

background-image: url(R-version.png)
background-size: 105px
background-position: 95% 5%

# Formação e experiência com o R

### - Colaboradora da empresa Beta Analítica;
### - Coorganizadora da comunidade R-Ladies Natal;
### - Doutorado em andamento em Ecologia (UFRN);
### - Pacotes: rmarkdown e tidyverse (ggplot2, dplyr, tidyr, stringr, readr, purrr, tibble e forcats);
### - Contato: [LinkedIn](https://www.linkedin.com/in/jeanne-franco-13bab4b6/), [Github](https://github.com/francojra) e [Instagram](https://www.instagram.com/jeanneefranco/) 

---

# Conteúdo

### - Introdução: o que é o pacote ggplot2?;
### - Instalação do pacote ggplot2;
### - Teoria da Gramática de Gráficos;
### - Principais tipos de gráficos;
### - Etapas para criação de gráficos com o ggplot2;
### - Advertências para produção de gráficos legíveis;
### - Ementa do curso 'Visualização de dados com ggplot2';

---

background-image: url(ggplot2_art.png)
background-size: 610px
background-position: 50% 50%
## Arte: Allison Horst

---

class: inverse, middle, center
background-color: #061b1d
# O que é o ggplot2?

---

# Introdução: o que é o pacote ggplot2?

### - O ggplot2 é um pacote dedicado à **visualização de dados** que produz **gráficos elegantes**;
### - Escrito por **Hadley Wickham** enquanto ele era um estudante em Iowa State University;

```{r message=FALSE, warning=FALSE, , out.width="53%", out.height="347", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("hadley-wickham.jpg") 
```

---

# Introdução: o que é o pacote ggplot2?

### - Implementação da **Gramática de Gráficos**;
### - **Conjunto independente de componentes** que podem ser compostos em diferentes formas;
### - Gráficos **bonitos** e **detalhados**;
### - **Versatilidade** que permite transmitir as principais mensagens dos gráficos.

---

# Exemplo de gráfico - ggplot2

```{r message=FALSE, warning=FALSE, , out.width="80%", out.height="525", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("plotgg.png") 
```

---

# Exemplo de gráfico - ggplot2

```{r message=FALSE, warning=FALSE, , out.width="80%", out.height="525", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("ex1ggplot.png") 
```

---

# Exemplo de gráfico - ggplot2

```{r message=FALSE, warning=FALSE, , out.width="80%", out.height="525", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("ex2ggplot.png") 
```

---

# Definição geral do pacote ggplot2

```{r xaringan-tachyons, echo=FALSE}
xaringanExtra::use_tachyons()
```

.bg-black.b--light-blue.ba.bw2.br3.shadow-5.ph4.mt5[
Mapeia as suas variáveis através da camada **aesthetics**, e informa a **geometria** (pontos, linhas, barras, histogramas) que será desenhada sobre um **sistema específico de coordenadas**. 

Detalhes como **cor**, **tamanho**, **legenda**, **rótulos** de variáveis e **temas** são definidos para detalhar as informações.
.tr[
#### [Site do pacote ggplot2](https://ggplot2.tidyverse.org/)
]]

---

# Instalação do pacote ggplot2

### Disponível no CRAN do R.

```{r xaringanExtra-clipboard, echo=FALSE}
htmltools::tagList(
  xaringanExtra::use_clipboard(
    button_text = "<i class=\"fa fa-clipboard\"></i>",
    success_text = "<i class=\"fa fa-check\" style=\"color: #90BE6D\"></i>",
    error_text = "<i class=\"fa fa-times-circle\" style=\"color: #F94144\"></i>"
  ),
  rmarkdown::html_dependency_font_awesome()
)
```


```r
# Primeiro é necessário instalar o pacote:
install.packages("ggplot2")

# Depois carregar o pacote com o library:
library(ggplot2)
```

```{r message=FALSE, warning=FALSE, , out.width="30%", out.height="280", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("ggplot2.png") 
```

---

class: inverse, middle, center
background-color: #061b1d
# Teoria da Gramática de Gráficos

---

# Teoria da Gramática de Gráficos

### Camadas do ggplot2

### - Dados .can-edit[]
### - Variáveis .can-edit[]
### - Geometrias .can-edit[]
### - Estatísticas .can-edit[]
### - Escalas .can-edit[]
### - Sistemas de coordenadas .can-edit[]
### - Facetas .can-edit[]
### - Rótulos e legendas .can-edit[] 
### - Temas .can-edit[]

---

# Teoria da Gramática de Gráficos

```{r message=FALSE, warning=FALSE, , out.width="80%", out.height="475", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("camadas.png") 
```

---

class: inverse, middle, center
background-color: #061b1d
# Tipos de gráficos com ggplot2

---

# Tipos de gráficos ggplot2

### - Histogramas;
### - Densidade;
### - Boxplot;
### - Violino;
### - Barras;
### - Dispersão;
### - Linhas;
### - Circular barplot;

---

# Tipos de gráficos ggplot2

### - Gráficos de área;
### - Gráficos dotplot;
### - Multivariadas;
### - Gráficos animados e interativos;
### - Gráficos de textura;
### - Wordcloud;
### - Heat maps.

[Galeria de gráficos com ggplot2](https://www.r-graph-gallery.com/)

[Opções de geometrias do ggplot2](https://ggplot2.tidyverse.org/reference/)

---

class: inverse, middle, center
background-color: #061b1d
# Etapas para criação de gráficos usando o ggplot2

---

# Etapas iniciais necessárias para criação dos gráficos

### 1° Definir o diretório de trabalho;

````r
# Para saber qual seu diretório atual
getwd() 

# Para criar um novo diretório de trabalho
dir.create("live-ggplot2-beta-analitica") 

# Para estabelecer o novo diretório criado
setwd("live-ggplot2-beta-analitica")

# Estabelecer diretório manualmente
Session > Set Working Directory > Choose Directory
````

---

# Etapas iniciais necessárias para criação dos gráficos

### 2° Carregar o pacote ggplot2 e pacotes auxiliares;

````r
# Pacote para produção dos gráficos
install.packages("ggplot2")
library(ggplot2)

# Pacote usado para análises descritivas
install.packages("dplyr")
library(dplyr) 

# Pacotes para mudar o tema do gráfico 
install.packages("hrbrthemes")
library(hrbrthemes) 
install.packages("wesanderson")
library(wesanderson)
````

---

# Etapas iniciais necessárias para criação dos gráficos

### 3° Criar ou carregar um conjunto de dados

````r
# Criar novo conjunto de dados
nomes = c(rep("A", 20), rep("B", 8), rep("C", 30), rep("C", 80))
valores = c(sample(2:5, 20, replace = T), sample(4:10, 8, replace = T),
          sample(1:7, 30, replace = T), sample(3:8, 80, replace = T))

# Gerar tabela
dados = data.frame(nomes, valores)

# Carregar conjunto de dados do R
datasets::iris

# Importar tabela csv, excel ou txt do computador
read.csv()
read.table()
readxl::read.excel()
````

---

class: inverse, middle, center
background-color: #061b1d

# Construção de gráficos no RStudio 

---

# Construção de gráficos no RStudio 

## Boxplot

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Carregar e fazer a filtragem dos dados da tabela; </label><br> 

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Definir as variáveis; </label><br> 

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Definir o tipo de gráfico;</label><br> 

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Definir uma cor para cada categoria do boxplot;</label><br>

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Definir um tema.</label><br> 

---

# Construção de gráficos no RStudio 

## Dispersão

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Definir as variáveis e o tipo de gráfico;</label><br> 

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Adicionar a camada da linha de tendência;</label><br> 

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Adicionar a escala de cores;</label><br> 

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Definir os títulos dos eixos;</label><br> 

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Acrescentar um tema ao gráfico e os detalhes dos eixos;</label><br>

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Modificar o tamanho da fonte dos títulos dos eixos;</label><br> 

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Adicionar legenda.</label><br> 

---

# Construção de gráficos no RStudio

## Barras

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Clacular a média e o erro padrão com o pacote dplyr;</label><br> 

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Definir as variáveis e o tipo de gráfico;</label><br> 

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Definir os títulos dos eixos;</label><br> 

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Acrescentar um tema ao gráfico;</label><br> 

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Reduzir a largura das barras e retirar a legenda;</label><br> 

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Mudar os nomes dos eixos;</label><br> 

<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike"> <label for="vehicle1"> Ordenar as barras da maior para menor.</label><br> 

---

class: inverse, middle, center
background-color: #061b1d

# Advertências para produção de gráficos legíveis

---

# Advertências para produção de gráficos legíveis

### - Conheça sua **audiência** 
### - Identifique sua **mensagem**
### - **Não confie** nos padrões

```{r message=FALSE, warning=FALSE, , out.width="40%", out.height="288", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("stop.png") 
```

---

# Use cores efetivamente

```{r message=FALSE, warning=FALSE, , out.width="80%", out.height="525", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("graf_2.png") 
```

---

# Use cores efetivamente

```{r message=FALSE, warning=FALSE, , out.width="80%", out.height="525", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("graf_3.png") 
```

---

# Não confunda o leitor

```{r message=FALSE, warning=FALSE, , out.width="80%", out.height="525", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("graf_6.png") 
```

---

# Não confunda o leitor

```{r message=FALSE, warning=FALSE, , out.width="80%", out.height="525", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("graf_7.png") 
```

---

# Evite gráficos de pizza

```{r message=FALSE, warning=FALSE, , out.width="88%", out.height="525", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("pie.png") 
```

---

# Evite gráficos de pizza

```{r message=FALSE, warning=FALSE, , out.width="88%", out.height="525", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("bar-pie.png") 
```

---

# Alguns box-plot podem ser armadilhas

```{r message=FALSE, warning=FALSE, , out.width="85%", out.height="525", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("boxplot.png") 
```

---

# Alguns box-plot podem ser armadilhas

```{r message=FALSE, warning=FALSE, , out.width="85%", out.height="525", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("jitter.png") 
```

---

# Alguns box-plot podem ser armadilhas

```{r message=FALSE, warning=FALSE, , out.width="85%", out.height="525", paged.print=FALSE, echo=FALSE, fig.align = 'center'}
knitr::include_graphics("violin-plot.png") 
```

---

# Referências

## Livros

#### - Wickham, H; Grolemund, G. R for Data Science: Import, Tidy, Transform, Visualize and Model Data. 1. ed. Canada: O'Reilly, 2016. 520 p.
#### - Wickham, H. ggplot2: Elegant Graphics for Data Analysis. 2. ed. Houston: Springer, 2016. 268 p.

## Artigo

#### - Rougier, N. P. _et al_. Ten Simple Rules for Better Figures. PLoS Computational Biology, v. 10, p. 1-7, sep. 2014.

## Páginas

#### - [Galeria de gráficos com ggplot2](https://www.r-graph-gallery.com/)
#### - [Advertências para produção de gráficos](https://www.data-to-viz.com/caveats.html)
#### - [Camadas do ggplot2](https://twitter.com/CedScherer/status/1229392907234402305/photo/2)

---

class: inverse, middle, center
background-color: #061b1d

# Ementa do curso Gráficos em R com ggplot2

---

# Ementa do curso Gráficos em R com ggplot2

### - Introdução ao pacote ggplot2
### - Pacotes auxiliares do R e sheets do ggplot2
### - Ressalvas e advertências para produção de gráficos legíveis
### - Produção de gráficos usando Datasets do R
### - Mapeamentos estéticos
### - Ajustes de posição e sistemas de coordenadas

---

# Ementa do curso Gráficos em R com ggplot2

### - Legendas e rótulos dos eixos
### - Facetas e customização (gráficos com textos, texturas e imagens)
### - Produção dos principais tipos de gráficos
### - Gráficos 3D e multivariadas
### - Gráficos especiais: animados, mapa e nuvem de palavras

---

background-image: url(logo_ba.png)
background-size: 125px
background-position: 95% 5%

# Contato Beta Analítica

### [**Site**](https://betaanalitica.com.br/)

### [**Instagram**](https://www.instagram.com/beta_analitica/)

### [**Twitter**](https://twitter.com/betaanalitica)

### [**Facebook**](https://www.facebook.com/betaanalitica)

### [**LinkedIn**](https://www.linkedin.com/company/beta-analitica/)

### [**YouTube**](https://www.youtube.com/channel/UCJBDEZ1e5H0RA5OH5ajxthQ?view_as=subscriber)

### [**Curso Gráficos em R com ggplot2**](https://www.hotmart.com/product/graficos-em-r-com-ggplot2/H55031467J)


<style type="text/css">

.remark-slide-content {
    font-size: 25px;
}

.remark-slide-content > h1 {
  font-size: 45px;
  margin-top: 10px;
  color: #d9ca7c;
}

.remark-slide-content > h2 {
  font-size: 35px;
  margin-top: -14px;
  color: #d68e70;
}

.remark-slide-content > h3 {
  font-size: 32px;
  margin-top: -15px;
  color: #d68e70;
}

.remark-slide-content > h4 {
  font-size: 25px;
  margin-top: -15px;
  color: #d68e70;
}

.remark-slide-content > h5 {
  font-size: 22px;
  margin-top: -15px;
  color: black;
}

.title-slide {
background-size: cover;
background-color: #061b1d
}

</style>

